<?php
  class hFilePathURLLibrary extends hPlugin { public function absolutePathToSelf($SSL = true) {       return $this->getURL($SSL); } public function getURL($SSL = true) {         if ($this->hFileSSLEnabled(false) && $SSL) {  $url = 'https://'.$this->hFrameworkSite; } else {  $url = 'http://'.(!empty($_SERVER['HTTP_HOST'])? $_SERVER['HTTP_HOST'] : $this->hServerHost); } $path = $this->hFileWildcardPath($this->hFilePath); return $url.$this->cloakSitesPath($path).(strlen($_SERVER['QUERY_STRING']) > 0? '?'.$_SERVER['QUERY_STRING'] : ''); } public function getURLByFileId($fileId = 0, $SSL = true) {         if (empty($fileId)) { $fileId = $this->hFileId; } if ($this->hFileSSLEnabled(false) && $SSL) {  $url = 'https://'.$this->hFrameworkSite; } else {  $url = 'http://'.(!empty($_SERVER['HTTP_HOST'])? $_SERVER['HTTP_HOST'] : $this->hServerHost); } if (empty($fileId)) { $fileId = $this->hFileId; } $path = $this->getFilePathByFileId($fileId); return $url.$this->cloakSitesPath($path); } } ?>