<?php
  class hFileDirectoryIndex extends hPlugin { private $hFinder; public function hConstructor() { $this->hFileTitle = $this->hFileDirectoryIndexPath; if ($this->hDirectories->hasPermission($this->hFileDirectoryIndexId, 'r')) { $this->hFinderLoadPluginFiles = false; $this->getPluginCSS();   $this->hFinder = $this->library('hFinder'); $this->hFileDocument = $this->getTemplate( 'Copy', array( 'hFileDirectoryIndexPath' => $this->hFileDirectoryIndexPath ) ). $this->hFinder->getDirectory( $this->hFileDirectoryIndexPath, 'XDetails', 'name', true, true ); if (!$this->hFinderDirectoryCount && !$this->hFinderFileCount) { $this->hFileDocument = $this->getTemplate('No Files'); } } else {   $this->hFilePath = $this->hFileDirectoryIndexPath; if (!$this->isLoggedIn()) { $this->notLoggedIn(); } else { $this->notAuthorized(); } } } } ?>