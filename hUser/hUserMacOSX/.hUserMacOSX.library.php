<?php
  class hUserMacOSXLibrary extends hPlugin { public function create($username, $name, $uid, $gid, $password, $remoteAccess = false, $isAdmin = false) { $this->command("dscl . -create /Users/{$username}");  $this->command("dscl . -create /Users/{$username} UserShell /bin/bash");  $this->command("dscl . -create /Users/{$username} RealName \"{$name}\"");  $this->command("dscl . -create /Users/{$username} UniqueId {$uid}");  $this->command("dscl . -create /Users/{$username} PrimaryGroupId {$gid}");  $this->command("dscl . -create /Users/{$username} NFSHomeDirectory /Users/{$username}");  $this->command("dscl . -passwd /Users/{$username} \"{$password}\""); if ($isAdmin) {  $this->command("dscl . -append /Groups/admin GroupMembership {$username}"); } if ($remoteAccess) {  $this->command("dscl . -append /Groups/com.apple.access_ssh GroupMembership {$username}"); } $this->command("mkdir /Users/{$username}"); $this->command("chown {$username}:staff /Users/{$username}"); } } ?>